I"<h3 id="awr-보고서-생성">AWR 보고서 생성</h3>

<ul>
  <li>V$view(Dynamic View)에 기록되는 수치들은 instance가 시작되면 수집되기 시작해서 종료되기 전까지 지속적으로 증가
    <ul>
      <li>메모리에만 저장되므로 인스턴스 종료 시 다시 0으로 재설정.</li>
    </ul>
  </li>
  <li>AWR snapshot : memory에 저장된 데이터가 디스크로 저장
    <ul>
      <li>시작/종료 스냅샷 번호 설정</li>
      <li>두 구간의 wait event 발생 횟수 및 통게치의 차이를 계산</li>
      <li>주의점 : instance 종료할 때마다 대기 이벤트 및 통계 수치가 재설정되므로 종료 전 snapshot과 재시작 후의 snapshot 비교는 무의미.</li>
      <li>DBMS_WORKLOAD_REPOSITORY 패키지 or 스크립트($ORACLE_HOME/rdbms/admin/)를 사용해서 생성 가능.</li>
      <li>소수의 보고서 생성 시 =&gt; 스크립트 활용 / 여러 개의 보고서를 생성 시 패키지를 이용.</li>
    </ul>

    <p><img src="http://wiki.gurubee.net/download/attachments/26742265/AWR07.JPG" alt="" width="700" height="500" class="center" /></p>
  </li>
</ul>

<table>
  <thead>
    <tr>
      <th>사용용도</th>
      <th>스크립트</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>AWR DB 보고서 생성</td>
      <td>awrrpt.sql, awrrpti.sql</td>
    </tr>
    <tr>
      <td>AWR DB 비교 보고서 생성</td>
      <td>awrddrpt.sql, awrddrpi.sql</td>
    </tr>
    <tr>
      <td>AWR SQL 보고서 생성</td>
      <td>awrsqrpt.sql, awrsqrpi.sql</td>
    </tr>
    <tr>
      <td>AWR 정보 검색 보고서</td>
      <td>awrinfo.sql</td>
    </tr>
    <tr>
      <td>ASH 보고서 생성</td>
      <td>ashrpt.sql, ashrpti.sql</td>
    </tr>
    <tr>
      <td>ADDM 보고서 생성</td>
      <td>addmrpt.sql, addmrpti.sql</td>
    </tr>
    <tr>
      <td>기타 스크립트</td>
      <td>awrddinp.sql, awrinput.sql, awrinpnmp.sq</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>AWR 보고서를 생성하기 위한 권한.
    <ul>
      <li>SELECT ANY DICTIONARY 권한</li>
      <li>SYS.DBMS_WORKLOAD_REPOSITORY 패키지의 execute 권한.</li>
    </ul>
  </li>
</ul>

:ET