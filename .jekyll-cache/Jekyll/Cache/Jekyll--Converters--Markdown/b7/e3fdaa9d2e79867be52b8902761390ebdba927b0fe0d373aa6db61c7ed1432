I"X<h3 id="ìš”ì•½-ë³´ê³ ì„œ">ìš”ì•½ ë³´ê³ ì„œ</h3>

<ul>
  <li>ìŠ¤ëƒ…ìƒ· êµ¬ê°„ì˜ ì¸ìŠ¤í„´ìŠ¤ ì •ë³´ ë° ë¬¸ì œ ë°œìƒ ì—¬ë¶€ì˜ ë¹ ë¥¸ íŒŒì•…</li>
  <li>ë¬¸ì œ í•´ê²° ë°©í–¥ ì„¤ì •</li>
</ul>

<table>
  <thead>
    <tr>
      <th>í•­ëª©</th>
      <th>ë³´ê³ ì„œ</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>DB í™˜ê²½</td>
      <td>ì²˜ìŒë¶€í„° Cache Size ë‹¨ìœ„ ë³´ê³ ì„œ ì „ê¹Œì§€ ë¶€ë¶„</td>
    </tr>
    <tr>
      <td>ë©”ëª¨ë¦¬</td>
      <td>Cache Size, Instance Efficiency Percentages(Target 100%)</td>
    </tr>
    <tr>
      <td>ë¶€í•˜ ë°œìƒ</td>
      <td>Load PROFILE</td>
    </tr>
    <tr>
      <td>ëŒ€ê¸° ì´ë²¤íŠ¸</td>
      <td>Top 5 Timed Events</td>
    </tr>
    <tr>
      <td>RAC</td>
      <td>Global Cache Load Profile,<br />Global Cache Efficiency Percentages(Target local + remote 100%),<br />Global Cache and Enqueue Services - Workload Characteristics,<br />Global Cache and Enqueue Services - messaging Statistics</td>
    </tr>
  </tbody>
</table>

<h3 id="ì¸ìŠ¤í„´ìŠ¤-ì •ë³´">ì¸ìŠ¤í„´ìŠ¤ ì •ë³´</h3>

<p><img src="https://github.com/lght2000/mu.github.io/blob/master/assets/images/instance_info.PNG?raw=true" alt="instance_info" /></p>

<table>
  <thead>
    <tr>
      <th>í•­ëª©</th>
      <th>ì˜ë¯¸</th>
      <th>ê´€ë ¨ì»¬ëŸ¼</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>DB Name</td>
      <td>ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„</td>
      <td>DB_NAME</td>
    </tr>
    <tr>
      <td>DB ID</td>
      <td>ë°ì´í„°ë² ì´ìŠ¤ ID</td>
      <td>DBID</td>
    </tr>
    <tr>
      <td>Instance</td>
      <td>ì¸ìŠ¤í„´ìŠ¤ ì´ë¦„</td>
      <td>INSTANCE_NAME</td>
    </tr>
    <tr>
      <td>InstNum</td>
      <td>ì¸ìŠ¤í„´ìŠ¤ ë²ˆí˜¸</td>
      <td>INSTANCE_NUMBER</td>
    </tr>
    <tr>
      <td>Release</td>
      <td>ì˜¤ë¼í´ ë²„ì „ ì •ë³´</td>
      <td>VERSION</td>
    </tr>
    <tr>
      <td>RAC</td>
      <td>RAC ì—¬ë¶€ í™•ì¸</td>
      <td>PARALLEL</td>
    </tr>
    <tr>
      <td>Host</td>
      <td>ì¸ìŠ¤í„´ìŠ¤ê°€ ì„¤ì¹˜ëœ ì‹œìŠ¤í…œ ì´ë¦„</td>
      <td>HOST_NAME</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>dba_hist_database_instance</li>
  <li>v$instance ë·° í™œìš©</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">select</span> <span class="n">db_name</span><span class="p">,</span> <span class="n">dbid</span><span class="p">,</span> <span class="n">instance_name</span><span class="p">,</span> <span class="n">startup_time</span><span class="p">,</span> <span class="k">version</span><span class="p">,</span> <span class="n">host_name</span><span class="p">,</span> <span class="n">platform_name</span> 
<span class="k">from</span> <span class="n">dba_hist_database_instance</span><span class="p">;</span>

<span class="k">select</span> <span class="n">instance_name</span><span class="p">,</span> <span class="n">startup_time</span><span class="p">,</span> <span class="k">version</span><span class="p">,</span> <span class="n">host_name</span> <span class="k">from</span> <span class="n">v</span><span class="err">$</span><span class="n">instance</span><span class="p">;</span>

</code></pre></div></div>

<h3 id="awr-ìŠ¤ëƒ…ìƒ·-ì •ë³´">AWR ìŠ¤ëƒ…ìƒ· ì •ë³´</h3>

<p><img src="https://github.com/lght2000/mu.github.io/blob/master/assets/images/awr_snapshot_info.PNG?raw=true" alt="awr_snapshot_info" /></p>

<table>
  <thead>
    <tr>
      <th>í•­ëª©</th>
      <th>ì˜ë¯¸</th>
      <th>ê´€ë ¨ì»¬ëŸ¼</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Snap ID</td>
      <td>AWR ìŠ¤ëƒ…ìƒ· ë²ˆí˜¸</td>
      <td>A.SNAP_ID</td>
    </tr>
    <tr>
      <td>Snap Time</td>
      <td>AWR ìŠ¤ëƒ…ìƒ·ì´ ìˆ˜í–‰ëœ ì‹œê°„</td>
      <td>A.END_INTERVAL_TIME</td>
    </tr>
    <tr>
      <td>Sessions</td>
      <td>AWR ìŠ¤ëƒ…ìƒ· êµ¬ê°„ì—ì„œ ì„¸ì…˜ ìˆ˜(active + inactive)</td>
      <td>SUM(C.VALUE) WHERE STAT_NAME = â€˜logons currentâ€™</td>
    </tr>
    <tr>
      <td>Cur/Sess</td>
      <td>AWR ìŠ¤ëƒ…ìƒ· êµ¬ê°„ì—ì„œ ì„¸ì…˜ì´ ì‚¬ìš©í•œ í‰ê·  ì»¤ì„œì˜ ìˆ˜</td>
      <td>(SUM(C.VALUE) WHERE STAT_NAME â€˜opened cursors currentâ€™) / (SUM(C.VALUE) WHERE STAT_NAME â€˜logons currentâ€™)</td>
    </tr>
    <tr>
      <td>Elapsed</td>
      <td>AWR ìŠ¤ëƒ…ìƒ· êµ¬ê°„ì—ì„œ ì†Œìš”ì‹œê°„(ë‹¨ìœ„:ë¶„)</td>
      <td>(EXTRACT(DAY FROM(A.END_INTERVAL_TIME)) * 86400) +<br />(EXTRACT(HOUR FROM(A.END_INTERVAL_TIME)) * 3600) +<br />(EXTRACT(MINUTE FROM(A.END_INTERVAL_TIME)) * 60) +<br />(EXTRACT(SECOND FROM(A.END_INTERVAL_TIME)) / 60) +</td>
    </tr>
    <tr>
      <td>DB Time</td>
      <td>AWR ìŠ¤ëƒ…ìƒ· êµ¬ê°„ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•œ ì´ ì‹œê°„(ë‹¨ìœ„:ë¶„)</td>
      <td>(SUM(B.VALUE) WHERE STAT_NAME = â€˜DB Timeâ€™) / 1000000 / 60</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>A : DBA_HIST_SNAPSHOT</li>
  <li>B : DBA_HIST_SYS_TIME_MODEL</li>
  <li>C : DBA_HIST_SYSSTAT</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">-- ìŠ¤ëƒ…ìƒ· ì •ë³´</span>
<span class="k">select</span> <span class="n">snap_id</span><span class="p">,</span> <span class="n">instance_number</span><span class="p">,</span> <span class="n">startup_time</span><span class="p">,</span> <span class="n">begin_interval_time</span><span class="p">,</span> <span class="n">end_interval_time</span>  <span class="k">from</span> <span class="n">dba_hist_snapshot</span> <span class="n">a</span>
<span class="k">where</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">begin_interval_time</span> <span class="o">&gt;=</span> <span class="n">to_date</span><span class="p">(</span><span class="s1">'2020/06/07 09:30'</span><span class="p">,</span><span class="s1">'YYYY/MM/DD HH24:mi'</span><span class="p">)</span> 
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">END_INTERVAL_TIME</span> <span class="o">&lt;</span> <span class="n">to_date</span><span class="p">(</span><span class="s1">'2020/06/07 10:01'</span><span class="p">,</span><span class="s1">'YYYY/MM/DD HH24:mi'</span><span class="p">))</span> 
<span class="k">and</span> <span class="n">instance_number</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">-- ìŠ¤ëƒ…ìƒ· êµ¬ê°„ì˜ ì„¸ì…˜ ìˆ˜</span>
<span class="k">select</span> <span class="k">sum</span><span class="p">(</span><span class="k">c</span><span class="p">.</span><span class="n">value</span><span class="p">)</span>  
<span class="k">from</span> <span class="n">dba_hist_snapshot</span> <span class="n">a</span><span class="p">,</span> <span class="n">dba_hist_sysstat</span> <span class="k">c</span>
<span class="k">where</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">begin_interval_time</span> <span class="o">&gt;=</span> <span class="n">to_date</span><span class="p">(</span><span class="s1">'2020/06/07 09:30'</span><span class="p">,</span><span class="s1">'YYYY/MM/DD HH24:mi'</span><span class="p">)</span> 
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">END_INTERVAL_TIME</span> <span class="o">&lt;</span> <span class="n">to_date</span><span class="p">(</span><span class="s1">'2020/06/07 10:01'</span><span class="p">,</span><span class="s1">'YYYY/MM/DD HH24:mi'</span><span class="p">))</span> 
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">instance_number</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">snap_id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">snap_id</span>
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">instance_number</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">instance_number</span>
<span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">stat_name</span><span class="o">=</span> <span class="s1">'logons current'</span><span class="p">;</span>


<span class="c1">-- ìŠ¤ëƒ…ìƒ· êµ¬ê°„ì—ì„œ ì—´ë ¸ë˜ ì»¤ì„œ ê°¯ìˆ˜</span>
<span class="k">select</span> <span class="k">sum</span><span class="p">(</span><span class="k">c</span><span class="p">.</span><span class="n">value</span><span class="p">)</span>  
<span class="k">from</span> <span class="n">dba_hist_snapshot</span> <span class="n">a</span><span class="p">,</span> <span class="n">dba_hist_sysstat</span> <span class="k">c</span>
<span class="k">where</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">begin_interval_time</span> <span class="o">&gt;=</span> <span class="n">to_date</span><span class="p">(</span><span class="s1">'2020/06/07 09:30'</span><span class="p">,</span><span class="s1">'YYYY/MM/DD HH24:mi'</span><span class="p">)</span> 
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">END_INTERVAL_TIME</span> <span class="o">&lt;</span> <span class="n">to_date</span><span class="p">(</span><span class="s1">'2020/06/07 10:01'</span><span class="p">,</span><span class="s1">'YYYY/MM/DD HH24:mi'</span><span class="p">))</span> 
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">instance_number</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">snap_id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">snap_id</span>
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">instance_number</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">instance_number</span>
<span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">stat_name</span><span class="o">=</span> <span class="s1">'opened cursors current'</span><span class="p">;</span>


<span class="c1">-- ìŠ¤ëƒ…ìƒ· êµ¬ê°„ì˜ ì†Œìš” ì‹œê°„(Elapsed) =&gt; ë‹¨ìœ„ ë¶„ </span>
<span class="k">select</span> 
<span class="p">(</span><span class="n">A</span><span class="p">.</span><span class="n">END_INTERVAL_TIME</span> <span class="o">-</span> <span class="n">A</span><span class="p">.</span><span class="n">begin_interval_time</span><span class="p">)</span>  
<span class="k">from</span> <span class="n">dba_hist_snapshot</span> <span class="n">a</span> 
<span class="k">where</span> <span class="n">a</span><span class="p">.</span><span class="n">begin_interval_time</span> <span class="o">&gt;=</span> <span class="n">to_date</span><span class="p">(</span><span class="s1">'2020/06/07 09:30'</span><span class="p">,</span><span class="s1">'YYYY/MM/DD HH24:mi'</span><span class="p">)</span> 
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">END_INTERVAL_TIME</span> <span class="o">&lt;=</span> <span class="n">to_date</span><span class="p">(</span><span class="s1">'2020/06/07 10:01'</span><span class="p">,</span><span class="s1">'YYYY/MM/DD HH24:mi'</span><span class="p">)</span> 
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">instance_number</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">-- ìŠ¤ëƒ…ìƒ· êµ¬ê°„ DB time í™•ì¸ =&gt; ë‹¨ìœ„ ë¶„</span>
<span class="k">select</span> <span class="k">SUM</span><span class="p">(</span><span class="n">B</span><span class="p">.</span><span class="n">VALUE</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000000</span> <span class="o">/</span> <span class="mi">60</span>
<span class="k">from</span> <span class="n">dba_hist_snapshot</span> <span class="n">a</span><span class="p">,</span> <span class="n">DBA_HIST_SYS_TIME_MODEL</span> <span class="n">b</span>
<span class="k">where</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">begin_interval_time</span> <span class="o">&gt;=</span> <span class="n">to_date</span><span class="p">(</span><span class="s1">'2020/06/07 09:30'</span><span class="p">,</span><span class="s1">'YYYY/MM/DD HH24:mi'</span><span class="p">)</span> 
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">END_INTERVAL_TIME</span> <span class="o">&lt;</span> <span class="n">to_date</span><span class="p">(</span><span class="s1">'2020/06/07 10:01'</span><span class="p">,</span><span class="s1">'YYYY/MM/DD HH24:mi'</span><span class="p">))</span> 
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">instance_number</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">snap_id</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">snap_id</span>
<span class="k">and</span> <span class="n">a</span><span class="p">.</span><span class="n">instance_number</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">instance_number</span>
<span class="k">and</span> <span class="k">upper</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">stat_name</span><span class="p">)</span><span class="o">=</span> <span class="k">upper</span><span class="p">(</span><span class="s1">'DB time'</span><span class="p">);</span>

</code></pre></div></div>

<h3 id="cache-size">Cache size</h3>

<table>
  <thead>
    <tr>
      <th>í•­ëª©</th>
      <th>ì˜ë¯¸</th>
      <th>ê´€ë ¨ì»¬ëŸ¼</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Buffer Cache</td>
      <td>ë²„í¼ ìºì‹œ í¬ê¸°</td>
      <td>A.VALUE WHERE PARAMETER_NAME = â€˜_db_cache_sizeâ€™</td>
    </tr>
    <tr>
      <td>Shared Pool</td>
      <td>ê³µìœ  í’€ í¬ê¸°</td>
      <td>A.VALUE WHERE PARAMETER_NAME = â€˜_shared_pool_sizeâ€™</td>
    </tr>
    <tr>
      <td>Std Block Size</td>
      <td>DB_bloCK_SIZE ì´ˆê¸°í™” íŒŒë¼ë¯¸í„°ë¡œ ì„¤ì •í•œ ê¸°ë³¸ ë°ì´í„° ë¸”ë¡ í¬ê¸°</td>
      <td>A.VALUE WHERE PARAMETER_NAME = â€˜db_block_sizeâ€™</td>
    </tr>
    <tr>
      <td>Log Buffer</td>
      <td>ë¦¬ë‘ ë¡œê·¸ ë²„í¼ í¬ê¸°</td>
      <td>ROUND(B.bytes / 1024, 0) WHERE NAME = â€˜log_bufferâ€™</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>A : DBA_HIST_PARAMETER =&gt; buffer cache / shared pool / std block size í™•ì¸ / íˆë“  íŒŒë¼ë¯¸í„° ì¡°íšŒ ê°€ëŠ¥</li>
  <li>B : DBA_HIST_SGASTAT =&gt; log buffer í™•ì¸
    <ul>
      <li>log buffer : ASMM(Automatic Shared Memory Management) ì‚¬ìš© ì‹œ ë¡œê·¸ ë²„í¼ì˜ í¬ê¸° ë³€ê²½ X , ê³ ì • í¬ê¸°</li>
      <li>ASMM ì‚¬ìš© ì‹œ buffer cache, shared pool, large pool, java pool, stream pool í¬ê¸° ìë™ ì¡°ì ˆ</li>
    </ul>
  </li>
</ul>

<h3 id="load-profile">Load Profile</h3>

<ul>
  <li>DB íŠœë‹ í•„ìš”ì„± ìœ ë¬´ë¥¼ íŒë‹¨í•˜ê¸° ë³´ë‹¤ëŠ” í•´ë‹¹ êµ¬ê°„ì— ë°œìƒí•œ ë¶€í•˜ëŸ‰ íŒŒì•… ë° ë¹„ì •ìƒì ì¸ êµ¬ê°„ê³¼ì˜ ë¹„êµë¥¼ ìœ„í•´ ì‚¬ìš©</li>
</ul>

<table>
  <thead>
    <tr>
      <th>í•­ëª©</th>
      <th>ì˜ë¯¸</th>
      <th>ê´€ë ¨ì»¬ëŸ¼</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Redo size</td>
      <td>ë°œìƒí•œ ë¦¬ë‘ ë¡œê·¸ì˜ í¬ê¸°(ë‹¨ìœ„ : ë°”ì´íŠ¸)</td>
      <td>redo size</td>
    </tr>
    <tr>
      <td>Logical reads</td>
      <td>ë©”ëª¨ë¦¬ ì½ê¸° I/O ë°œìƒ íšŸìˆ˜</td>
      <td>session logical reads</td>
    </tr>
    <tr>
      <td>Block changes</td>
      <td>SGA ë©”ëª¨ë¦¬ ë¸”ë¡ì„ ë³€ê²½í•œ íšŸìˆ˜</td>
      <td>db block changes</td>
    </tr>
    <tr>
      <td>Physical reads</td>
      <td>ë””ìŠ¤í¬ì—ì„œ ë©”ëª¨ë¦¬ë¡œ ì½ì–´ì˜¨ íšŸìˆ˜(SGA + PGA)</td>
      <td>physical reads</td>
    </tr>
    <tr>
      <td>Physical writes</td>
      <td>ë©”ëª¨ë¦¬ì—ì„œ ë””ìŠ¤í¬ë¡œ ë‚´ë ¤ì“´ íšŸìˆ˜</td>
      <td>physical writes</td>
    </tr>
    <tr>
      <td>User calls</td>
      <td>ë¡œê·¸ì¸, parse, fetch, sql execute ë“± ì‚¬ìš©ìê°€ ìš”ì²­í•œ ëª¨ë“  í˜¸ì¶œì˜ í•©</td>
      <td>user calls</td>
    </tr>
    <tr>
      <td>Parses</td>
      <td>ì†Œí”„íŠ¸ íŒŒìŠ¤ì™€ í•˜ë“œ íŒŒìŠ¤ê°€ ë°œìƒí•œ íšŸìˆ˜</td>
      <td>parse count(total)</td>
    </tr>
    <tr>
      <td>Hard parses</td>
      <td>í•˜ë“œ íŒŒìŠ¤ íšŸìˆ˜</td>
      <td>parse count(hard)</td>
    </tr>
    <tr>
      <td>Sorts</td>
      <td>SQL ìˆ˜í–‰ ì‹œ ë””ìŠ¤í¬ì— ë‚´ë ¤ì“°ì§€ ì•Šê³  ë©”ëª¨ë¦¬ì—ì„œë§Œ ë°œìƒí•œ ì •ë ¬ ì‘ì—… íšŸìˆ˜</td>
      <td>sorts(memory)</td>
    </tr>
    <tr>
      <td>Logons</td>
      <td>ìŠ¤ëƒ…ìƒ· êµ¬ê°„ ì¤‘ ë¡œê·¸ì˜¨í•œ ì´ íšŸìˆ˜</td>
      <td>logons cumulative</td>
    </tr>
    <tr>
      <td>Executes</td>
      <td>ì‚¬ìš©ìê°€ ìˆ˜í–‰í•œ SQLê³¼ DB ë‚´ë¶€ì—ì„œ ì‹¤í–‰ëœ recursive SQL íšŸìˆ˜</td>
      <td>execute count</td>
    </tr>
    <tr>
      <td>Transactions</td>
      <td>ìŠ¤ëƒ…ìƒ· êµ¬ê°„ ì¤‘ ë°œìƒí•œ íŠ¸ëœì­ì…˜ íšŸìˆ˜(user commit + rollback)</td>
      <td>user commits + user rollbacks</td>
    </tr>
    <tr>
      <td>% Blocks changed per Read</td>
      <td>ë©”ëª¨ë¦¬ ì½ê¸° I/Oë‹¹ ë¸”ë¡ ë³€ê²½ ë¹„ìœ¨</td>
      <td>100 * (db bock changes / session logical reads)</td>
    </tr>
    <tr>
      <td>Rollback per transaction %</td>
      <td>ì „ì²´ íŠ¸ëœì­ì…˜ íšŸìˆ˜ ì¤‘ ë¡¤ë°± ë¹„ìœ¨</td>
      <td>100 * (user rollbacks / (user commits + user rollbacks))</td>
    </tr>
    <tr>
      <td>Recursive Call %</td>
      <td>ì „ì²´ SQL ì¤‘ recursive SQL ë¹„ìœ¨</td>
      <td>100 * (recursive calls / (user calls + recursive calls))</td>
    </tr>
    <tr>
      <td>Rows per Sort</td>
      <td>ì •ë ¬ ì‘ì—… ì‹œ í‰ê·  í–‰ì˜ ìˆ˜</td>
      <td>(sort(rows) / (sorts(memory) + sorts(disk))</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>DBA_HIST_SYSSTAT ì°¸ì¡° ex) where upper(stat_name) = upper(â€˜parse count (total)â€™)</li>
  <li>
    <p>ê´€ë ¨ ë™ì  ë·° v$sysstat</p>
  </li>
  <li>physical readsëŠ” SGAì˜ì—­ê³¼ PGAì˜ì—­ì—ì„œ ë°œìƒí•œ I/Oì˜ í•©ì´ê¸° ë•Œë¬¸ì—
    <ul>
      <li>Physical reads &gt; SGA physical reads cache +  SGA physical reads direct</li>
    </ul>
  </li>
  <li>
    <p>Physical writes = Physical writes direct + Physical writes from cache</p>
  </li>
  <li>
    <p>ì •ë ¬ ì‘ì—… ì‹œ í•œë²ˆì´ë¼ë„ diskì— ë‚´ë ¤ì“¸ ê²½ìš° sorts(disk) ìˆ˜ì¹˜ì— í¬í•¨ë¨.</p>
  </li>
  <li>transactions = user commits + user rollbacks
    <ul>
      <li>user commit =&gt; ë³€ê²½ëœ ë°ì´í„° ì—†ì´ commití•  ê²½ìš° ìˆ˜ì¹˜ ì¦ê°€ X</li>
      <li>user rollbacks =&gt; ë³€ê²½ëœ ë°ì´í„°ê°€ ì—†ë”ë¼ë„ ëª…ì‹œì ìœ¼ë¡œ ë¡¤ë°±ì„ ìˆ˜í–‰í•˜ë©´ ìˆ˜ì¹˜ê°€ ì¦ê°€</li>
      <li>Load Profileì˜ transactionì€ ì •í™•í•œ transaction ì–‘ì„ ë‚˜íƒ€ë‚´ì§€ ì•ŠìŒ.</li>
      <li>ì •í™•í•œ í™•ì¸ì„ ìœ„í•´ì„œëŠ” Undo Segment Summary ë‹¨ìœ„ ë³´ê³ ì„œì˜ Number of Transactions ì¹¼ëŸ¼ ê°’ì„ í™•ì¸.
        <ul>
          <li>Number of Transaction = íŠ¸ëœì­ì…˜ ë°œìƒ ì‹œ undo segmentì— ê¸°ë¡ëœ íŠ¸ëœì­ì…˜ ì–‘ì„ ê¸°ì¤€ìœ¼ë¡œ ì‚°ì¶œ.</li>
          <li>ë”°ë¼ì„œ Load Profile ë‹¨ìœ„ ë³´ê³ ì„œì˜ Tranaction ê°’ ë³´ë‹¤ ì •í™•.</li>
        </ul>
      </li>
    </ul>

    <p><img src="https://github.com/lght2000/mu.github.io/blob/master/assets/images/tran_diff.PNG?raw=true" alt="tran_diff" /></p>
  </li>
  <li>DBì— ë°œìƒí•œ ë¶€í•˜ëŸ‰ì„ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œ( User calls, Execute, Transactions)</li>
  <li>ë°ì´í„° ë³€ê²½ ë°œìƒëŸ‰ì„ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œ ( Redo Size, Block Changes )
    <ul>
      <li>ì†Œìˆ˜ì˜ SQLë¡œ ìˆ˜í–‰ë˜ëŠ” ëŒ€í˜• ë°°ì¹˜ ì‘ì—…ìœ¼ë¡œ ì¸í•œ ë¬¸ì œê°€ ë°œìƒí•  ê²½ìš° ë¶€í•˜ëŸ‰ ì§€í‘œëŠ” ì¦ê°€ X</li>
      <li>ì „ì²´ì ì¸ ë¶€í•˜ ë°œìƒ ì¦ê°€ ì‹œ ë¶€í•˜ëŸ‰ + ë°ì´í„° ë³€ê²½ ë°œìƒëŸ‰ ëª¨ë‘ ì¦ê°€.</li>
      <li>ì˜ˆì œ ì°¸ê³  í˜ì´ì§€ 70ìª½</li>
    </ul>
  </li>
</ul>

<h3 id="instance-efficency-percentagestarget-100">Instance Efficency Percentages(Target 100%)</h3>

<table>
  <thead>
    <tr>
      <th>í•­ëª©</th>
      <th>ì˜ë¯¸</th>
      <th>ê´€ë ¨ì»¬ëŸ¼</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Buffer Nowait %</td>
      <td>ë²„í¼ ìºì‹œ ìš”ì²­ ì‹œ ëŒ€ê¸° ì—†ì´ ì›í•˜ëŠ” ë²„í¼ ìºì‹œë¥¼ íšë“í•œ ë¹„ìœ¨</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>Buffer Hit %</td>
      <td>í•„ìš”í•œ ë¸”ë¡ì„ ë””ìŠ¤í¬ì—ì„œ ì½ì–´ ì˜¤ì§€ ì•Šê³  ë²„í¼ ìºì‹œì—ì„œ íšë“í•œ ë¹„ìœ¨.<br />RAC í™˜ê²½ì˜ ê²½ìš°, ìºì‹œ í“¨ì „ì„ í†µí•´ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ëª¨ë¦¬ì—ì„œ ì½ì–´ì˜¨ ë¹„ìœ¨ë„ ë²„í¼ ìºì‹œ ì ì¤‘ë¥ ì— í¬í•¨.</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>Library Hit %</td>
      <td>ê³µìœ  í’€ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìºì‹œ ì ì¤‘ë¥ </td>
      <td>Â </td>
    </tr>
    <tr>
      <td>Execute to Parse %</td>
      <td>íŒŒìŠ¤ ì—†ì´ SQLì´ ìˆ˜í–‰ëœ ë¹„ìœ¨</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>Parse CPU to Parse Elapsd %</td>
      <td>íŒŒìŠ¤ ìˆ˜í–‰ ì‹œê°„ ì¤‘ CPU ì‚¬ìš© ì‹œê°„ ë¹„ìœ¨.<br />100%ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ëŒ€ê¸° ì‹œê°„ ì—†ì´ íŒŒìŠ¤ë¥¼ ìˆ˜í–‰í•œ ê²ƒ</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>Redo NoWait %</td>
      <td>ë¦¬ë‘ ë¡œê·¸ ìƒì„± ì‹œ ë¡œê·¸ íŒŒì¼ ê³µê°„ ë¶€ì¡±ìœ¼ë¡œ log switch completeë¥¼ ëŒ€ê¸°í•˜ì§€ ì•Šì€ ë¹„ìœ¨</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>In-memory Sort %</td>
      <td>ì „ì²´ ì •ë ¬ ì‘ì—… ì¤‘ ë©”ëª¨ë¦¬ì—ì„œë§Œ ë°œìƒí•œ ì •ë ¬ ì‘ì—… ë¹„ìœ¨</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>Soft Parse %</td>
      <td>ì†Œí”„íŠ¸ íŒŒìŠ¤ ë¹„ìœ¨</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>Latch Hit %</td>
      <td>ë˜ì¹˜ ìš”ì²­ ì‹œ ëŒ€ê¸° ì—†ì´ íšë“í•œ ë¹„ìœ¨</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>% Non-Parse CPU</td>
      <td>íŒŒìŠ¤ì— ì‚¬ìš©ëœ CPU ì‹œê°„ì„ ì œì™¸í•œ CPU ì‚¬ìš© ì‹œê°„ ë¹„ìœ¨</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>Memory Usage %</td>
      <td>ì‹œì‘ ìŠ¤ëƒ…ìƒ·ê³¼ ì¢…ë£Œ ìŠ¤ëƒ…ìƒ· ìˆ˜í–‰ ì‹œ ê³µìœ  í’€ ì‚¬ìš© ë¹„ìœ¨</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>% SQL with executions&gt;1</td>
      <td>ì „ì²´ SQL ì¤‘ 1íšŒ ì´ìƒ ìˆ˜í–‰ëœ SQL ë¹„ìœ¨</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>% Memory for SQL w/exec&gt;1</td>
      <td>ì „ì²´ SQL ì¤‘ 1íšŒ ì´ìƒ ì‚¬ìš©ëœ SQLì´ ì°¨ì§€í•˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ ë¹„ìœ¨</td>
      <td>Â </td>
    </tr>
  </tbody>
</table>

<ul>
  <li>A : DBA_HIST_WAITSTAT</li>
  <li>B : DBA_HIST_LIBRARYCACHE</li>
  <li>C : DBA_HIST_SYSSTAT</li>
  <li>D : DBA_HIST_LATCH</li>
  <li>E : DBA_HIST_SYS_TIME_MODEL</li>
  <li>F : DBA_HIST_SGASTAT</li>
  <li>G : DBA_HIST_PARAMETERS</li>
  <li>H : DBA_HIST_SQL_SUMMARY</li>
</ul>

:ET